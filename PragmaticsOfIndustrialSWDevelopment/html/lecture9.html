<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>Pragmatics of Industrial Software Development</title>
<!-- metadata -->
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="generator" content="S5" />
<meta name="version" content="S5 1.1" />
<meta name="date" content="August 5, 2010" />
<meta name="author" content="Dean Wampler, Ph.D." />
<meta name="company" content="Department of Computer Science,<br/>Loyola University Chicago" />
<meta name="copyright" content="2010 Dean Wampler, All Rights Reserved" />
<!-- configuration parameters -->
<meta name="defaultView" content="slideshow" />
<meta name="controlVis" content="hidden" />
<!-- style sheet links -->
<link rel="stylesheet" href="../ui/default/slides.css" type="text/css" media="projection" id="slideProj" />
<link rel="stylesheet" href="../ui/default/outline.css" type="text/css" media="screen" id="outlineStyle" />
<link rel="stylesheet" href="../lib/stylesheets/print.css" type="text/css" media="print" id="slidePrint" />
<link rel="stylesheet" href="../ui/default/opera.css" type="text/css" media="projection" id="operaFix" />

<link rel="stylesheet" href="../lib/stylesheets/pressie.css" type="text/css" />

<!-- S5 JS -->
<script src="../ui/default/slides.js" type="text/javascript"></script>

<!-- Syntax Highlighter -->
<!-- <link rel="stylesheet"  href="../lib/stylesheets/SyntaxHighlighter.css"></link> -->
<link type="text/css" rel="stylesheet" href="../lib/stylesheets/shCore.css"/>
<link type="text/css" rel="stylesheet" href="../lib/stylesheets/shThemeDefault.css"/>


</head>
<body>

<div class="layout">
<div id="controls"><!-- DO NOT EDIT --></div>
<div id="currentSlide"><!-- DO NOT EDIT --></div>
<div id="header"></div>
<div id="footer">
<h2>Copyright &copy; 2010 Dean Wampler, All Rights Reserved</h2>
<h2>August 5, 2010</h2>
</div>

</div>


<div class="presentation">
<div class="slide">
<h1>Lecture 9: Effective Object-Oriented Programming (<span class="caps">OOP</span>), Part II</h1>
</div>
<div class="slide">
<h1>Why Are Objects Interesting?</h1>
<p>Because managing complexity is one of our biggest challenges. Mentally, we object encapsulation in our daily lives to avoid being overwhelmed by sensory input. Object-Oriented Programming tries to apply that same strategy to managing software complexity.</p>
</div>
<div class="slide">
<h1>Some History</h1>
<div class='small'>
<table>
	<tr>
		<th>Year </th>
		<th>Event</th>
		<th>Features</th>
		<th>Notes</th>
	</tr>
	<tr>
		<td> 1967 </td>
		<td> Simula </td>
		<td> Objects, classes, subclasses, virtual methods, coroutines, discrete event simulation, garbage collection. </td>
		<td> First OO Language.</td>
	</tr>
	<tr>
		<td> 1972 </td>
		<td> Smalltalk </td>
		<td> Object-oriented, dynamically typed, reflective. </td>
		<td> First public version in 1980</td>
	</tr>
</table>
</div>
</div>
<div class="slide">
<h1>Some History (cont.)</h1>
<div class='small'>
<table>
	<tr>
		<th>Year </th>
		<th>Event</th>
		<th>Features</th>
		<th>Notes</th>
	</tr>
	<tr>
		<td> 1983 </td>
		<td> C++ </td>
		<td> Classes, virtual functions, operator overloading, multiple inheritance, templates. </td>
		<td> Most widely used OO language in the 90s. (?) </td>
	</tr>
	<tr>
		<td> 1986 </td>
		<td> Eiffel </td>
		<td> Design by contract, command-query separation, uniform-access principle, single-choice principle, open-closed principle, and option-operand separation </td>
		<td> Very innovative. Still used in some industries, esp. in Europe.</td>
	</tr>
</table>
<p>In 1984, Apple introduced the Macintosh, the first popular copmuter with a Graphical User Interface. GUIs were quickly seen as ideal for <span class="caps">OOP</span>.</p>
</div>
</div>
<div class="slide">
<h1>Some History (cont.)</h1>
<div class='small'>
<table>
	<tr>
		<th>Year </th>
		<th>Event</th>
		<th>Features</th>
		<th>Notes</th>
	</tr>
	<tr>
		<td> 1995 </td>
		<td> Java </td>
		<td> &#8220;Simplified C++&#8221;, plus byte code running on a virtual machine. </td>
		<td> Rapid adoption with the Internet. </td>
	</tr>
	<tr>
		<td> 1995 </td>
		<td> JavaScript </td>
		<td> Prototype-based, scripting, dynamically and weakly typed, first-class functions, closures, higher-order functions. </td>
		<td> Also considered a functional programming language. Inspired by Scheme. </td>
	</tr>
</table>
</div>
</div>
<div class="slide">
<h1>Some History (cont.)</h1>
<div class='small'>
<table>
	<tr>
		<th>Year </th>
		<th>Event</th>
		<th>Features</th>
		<th>Notes</th>
	</tr>
	<tr>
		<td> 2003 </td>
		<td> Scala </td>
		<td> Object-oriented and functional programming. </td>
		<td> Runs on the <span class="caps">JVM</span> and .<span class="caps">NET</span> <span class="caps">CLR</span>. </td>
	</tr>
	<tr>
		<td> 2007 </td>
		<td> Clojure </td>
		<td> Lisp on the <span class="caps">JVM</span>. </td>
		<td> Innovative approaches to mutable state. </td>
	</tr>
</table>
</div>
</div>
<div class="slide">
<h1>Eiffel Innovations</h1>
<ul>
	<li><strong>Design by Contract:</strong> Discussed last lecture.</li>
	<li><strong>Command-Query Separation:</strong></li>
	<li><strong>Uniform-Access Principle:</strong></li>
	<li><strong>Single-Choice Principle:</strong></li>
	<li><strong>Open-Closed Principle:</strong></li>
	<li><strong>Option-Operand Separation:</strong></li>
</ul>
</div>
<div class="slide">
<h1>Command-Query Separation</h1>
<p>To keep each &#8220;piece&#8221; of code as simple as possible, each object and function should <em>do only one &#8220;thing&#8221;</em>. This is the <em>Single Responsibility Principle</em>, the &#8220;S&#8221; in the <span class="caps">SOLID</span> principles.</p>
</div>
<div class="slide">
<h1>Command-Query Separation (cont.)</h1>
<p>If a function executes a &#8220;command&#8221; and it returns a value (&#8220;query&#8221;), it&#8217;s doing <em>two</em> things. Hence, you should have separate command and query functions:</p>
<ul>
	<li><strong>Command:</strong> Do something, i.e., update state, but don&#8217;t return values. (It might return a &#8220;success&#8221; indicator&#8230;)</li>
	<li><strong>Query:</strong> Return a result, but don&#8217;t alter state (at least not the visible state &#8211; it may update an internal <em>cache</em>, for example.)</li>
</ul>
<p>Example: JavaBean getters and setters.</p>
</div>
<div class="slide">
<h1>Uniform-Access Principle</h1>
<div class="code-small">
<pre name="code" id="code" class="brush: scala,;">

case class Person(name:String, age: Int)
...
val dean = Person("Dean Wampler")
println(dean.name)
</pre></div>
<p>Am I calling a method <code>name</code> or accessing a &#8220;bare&#8221; <code>name</code> field??</p>
</div>
<div class="slide">
<h1>Uniform-Access Principle (cont.)</h1>
<p>The <em>caller</em> doesn&#8217;t care whether a method is invoked or a bare field is accessed.</p>
<p>The <em>implementer</em> might want to start with a simple bare field access, then eventually replace it with a method call (e.g., to do lazy initialization, etc.).</p>
<p>The <em>uniform-access principle</em> means the caller&#8217;s code doesn&#8217;t have to change, because the syntax is identical. (The code might need a recompile).</p>
</div>
<div class="slide">
<h1>Uniform-Access Principle (cont.)</h1>
<p>Note that the JavaBean convention for getters and setters does <em>not</em> support this principle!</p>
<div class="code-small">
<pre name="code" id="code" class="brush: java,;">

class Person {
  private String name;
  public String getName() { return name; }
  
  public Person(String name) { this.name = name; }
}
...
val dean = Person("Dean Wampler")
println(dean.getName());
// very different from:
// println(dean.name);
</pre></div>
</div>
<div class="slide">
<h1>Single-Choice Principle</h1>
</div>
<div class="slide">
<h1>Open-Closed Principle</h1>
<p>The &#8220;O&#8221; in the <span class="caps">SOLID</span> principles.</p>
<p>We&#8217;ll return to this principle when we talk about <em>the Expression Problem</em> and <em>Type Classes</em>.</p>
</div>
<div class="slide">
<h1>Option-Operand Separation</h1>
</div>
<div class="slide">
<h1>Strong Coupling</h1>
<p>Last time, we talked at length about encapsulation. We also mentioned that it helps minimize coupling between modules. Let&#8217;s explore this topic further.</p>
<center>
<p><img src="images/Module_Dependencies.png"></img></p>
</center>
<p>Is it bad if <code>GUI</code> depends on <code>MacWindowFactory</code>??</p>
</div>
<div class="slide">
<h1><code>gui.windowing</code></h1>
<div class="code-small">
<pre name="code" id="code" class="brush: scala,;">

package gui.windowing {

  abstract class Window(dimensions: Dimensions) {...}  
  abstract class WindowFactory {
    def make(dimensions: Dimensions): Window
  }
  
  protected[gui] package mac {
    MacWindow(...) extends Window(...) {...}
    object MacWindowFactory extends WindowFactory {
      def make(properties: Properties): Window = {...}
    }
  }
  protected[gui] package windows {
    WindowsWindow(...) extends Window(...) {...}
    ...
  }
  ...
}
</pre></div>
</div>
<div class="slide">
<h1>Other <span class="caps">GUI</span> Modules</h1>
<p><span class="caps">BAD</span>:<br />
<div class="code-small"></p>

<pre name="code" id="code" class="brush: scala,;">

package gui.windowing {
  def makeNewWindow(properties: Properties) {
    val window = mac.MacWindowFactory.make(properties)
    // Other Mac-specific calls...
  }
}
</pre></div>
<p><span class="caps">GOOD</span>:<br />
<div class="code-small"></p>

<pre name="code" id="code" class="brush: scala,;">

package gui.windowing {
  def makeNewWindow(properties: Properties) {
    val window = WindowFactory.make(properties)
    // Other generic calls...
  }
}
</pre></div>
</div>
<div class="slide">
<h1>Why is Strong Coupling Bad</h1>
<ul>
	<li><strong>Testing</strong></li>
	<li><strong>Maintenance</strong></li>
</ul>
</div>
<div class="slide">
<h1>Testing</h1>
<p>If I want to test a module, I have to set up all its dependencies. That&#8217;s painful if the dependencies are database connections, user interfaces, external processes, etc.</p>
<p>For example, I could only test <code>makeNewWindow</code> with a Macintosh. Also, creating windows is much slower than just &#8220;running code&#8221;.</p>
<p>But if <code>makeNewWindow</code> depends only on interfaces, I can use <em>stub</em> implementations that make testing easy and fast.</p>
</div>
<div class="slide">
<h1>Maintenance</h1>
<p>If you have several other teams that depend on the implementation of <code>MacWindowFactory</code>, you can&#8217;t change it without pain:</p>
<ul>
	<li>You have to plan with those teams when to introduce the changes.</li>
	<li>You and they have to coordinate the changes.</li>
	<li>They have to <em>unit</em> test their changes in isolation.</li>
	<li>The organization has to <em>integration</em> test the changes.</li>
	<li>All the changes need to be deployed in a coordinated manner.</li>
</ul>
</div>
<div class="slide">
<h1>Inheritance Is Strong Coupling</h1>
<p>It&#8217;s important to note that <em>inheritance is a form of strong coupling</em>. (About the strongest in fact.) The advantages vs. disadvantages need to be weighed.</p>
<p><strong>Advantages:</strong></p>
<ul>
	<li>Reuse of state and behavior.</li>
	<li>Grouping of &#8220;logically-similar&#8221; things.</li>
</ul>
<p><strong>Disadvantages:</strong></p>
<ul>
	<li>Any change to parent may require changes to child.</li>
	<li>Proper implementations of <code>clone</code>, <code>equals</code>, <code>hashCode</code> challenging.</li>
</ul>
<p>Like any form of coupling, it should be used <em>sparingly</em>.</p>
</div>
<div class="slide">
<h1>Composition vs. Inheritance</h1>
<p>Mixins.</p>
</div>
<div class="slide">
<h1>Problems with Objects</h1>
</div>
<div class="slide">
<h1>Clone</h1>
</div>
<div class="slide">
<h1>Equals</h1>
</div>
<div class="slide">
<h1>Typing</h1>
</div>
<div class="slide">
<h1><span class="caps">LSP</span> revisited</h1>
<p>Covariant and Contravariant behaviors.</p>
</div>
<div class="slide">
<h1>Concurrency</div></h1>

  <!-- Syntax Highlighter -->
  <script language="javascript" type="text/javascript" src="../lib/scripts/shCore.js"></script>
  <script language="javascript" type="text/javascript" src="../lib/scripts/shBrushBash.js"></script>
  <script language="javascript" type="text/javascript" src="../lib/scripts/shBrushCpp.js"></script>
  <script language="javascript" type="text/javascript" src="../lib/scripts/shBrushCSharp.js"></script>
  <script language="javascript" type="text/javascript" src="../lib/scripts/shBrushCss.js"></script>
  <script language="javascript" type="text/javascript" src="../lib/scripts/shBrushDelphi.js"></script>
  <script language="javascript" type="text/javascript" src="../lib/scripts/shBrushJava.js"></script>
  <script language="javascript" type="text/javascript" src="../lib/scripts/shBrushJScript.js"></script>
  <script language="javascript" type="text/javascript" src="../lib/scripts/shBrushPhp.js"></script>
  <script language="javascript" type="text/javascript" src="../lib/scripts/shBrushPlain.js"></script>
  <script language="javascript" type="text/javascript" src="../lib/scripts/shBrushPython.js"></script>
  <script language="javascript" type="text/javascript" src="../lib/scripts/shBrushRuby.js"></script>
  <script language="javascript" type="text/javascript" src="../lib/scripts/shBrushScala.js"></script>
  <script language="javascript" type="text/javascript" src="../lib/scripts/shBrushSql.js"></script>
  <script language="javascript" type="text/javascript" src="../lib/scripts/shBrushVb.js"></script>
  <script language="javascript" type="text/javascript" src="../lib/scripts/shBrushXml.js"></script>
  <script language="javascript">
    SyntaxHighlighter.config.clipboardSwf = 'scripts/clipboard.swf';
    SyntaxHighlighter.all();
  </script>
</div>
</body>
</html>
